#include "BMS_Out_capi.h"
#include "BMS_Out.h"
#include "BMS_Out_private.h"
int_T ddwb15ixvg [ 2 ] ; static RegMdlInfo rtMdlInfo_BMS_Out [ 65 ] = { {
"op4vcoxluza" , MDL_INFO_NAME_MDLREF_DWORK , 0 , - 1 , ( void * ) "BMS_Out" }
, { "op4vcoxluz" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "hnldxpti22p" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 ,
( void * ) "BMS_Out" } , { "fwkl2eeh1c1" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT ,
0 , - 1 , ( void * ) "BMS_Out" } , { "p3dpp24y5f5" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"bzn25uefd3b" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "jet2ma1ra2r" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 ,
( void * ) "BMS_Out" } , { "cuelqoj14vm" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT ,
0 , - 1 , ( void * ) "BMS_Out" } , { "pct3vskztx1" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"dkxmfsoydl" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "fzg3d0vfuad" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 ,
( void * ) "BMS_Out" } , { "fcqxhwzsd3u" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT ,
0 , - 1 , ( void * ) "BMS_Out" } , { "fgkykudv25b" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"lphw1dlpsvd" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "juz1rje5hni" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 ,
( void * ) "BMS_Out" } , { "hnldxpti22" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT ,
0 , - 1 , ( void * ) "BMS_Out" } , { "fwkl2eeh1c" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"p3dpp24y5f" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "bzn25uefd3" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , (
void * ) "BMS_Out" } , { "jet2ma1ra2" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0
, - 1 , ( void * ) "BMS_Out" } , { "cuelqoj14v" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"pct3vskztx" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "fzg3d0vfua" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , (
void * ) "BMS_Out" } , { "fcqxhwzsd3" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0
, - 1 , ( void * ) "BMS_Out" } , { "fgkykudv25" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"lphw1dlpsv" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "juz1rje5hn" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , (
void * ) "BMS_Out" } , { "jw3ra3nb0j" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0
, - 1 , ( void * ) "BMS_Out" } , { "knzl4yur3r" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"goeqzwtmab" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "iaiidsn0hk" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , (
void * ) "BMS_Out" } , { "ccdupmtoje" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0
, - 1 , ( void * ) "BMS_Out" } , { "pa0gge3anv" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"nqlm4cijnb" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "BMS_Out" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , 0 , ( NULL
) } , { "j1rxzon2wc2" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void *
) "BMS_Out" } , { "ddwb15ixvg" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 ,
( void * ) "BMS_Out" } , { "b1vbqry3vga" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT ,
0 , - 1 , ( void * ) "BMS_Out" } , { "gzm11elq4x" ,
MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * ) "BMS_Out" } , {
"hlrpif31cr" , MDL_INFO_ID_GLOBAL_RTW_CONSTRUCT , 0 , - 1 , ( void * )
"BMS_Out" } , { "BMS_Cmd" , MDL_INFO_ID_DATA_TYPE , 0 , - 1 , ( NULL ) } , {
"BMS_Info" , MDL_INFO_ID_DATA_TYPE , 0 , - 1 , ( NULL ) } , { "SOC_Est" ,
MDL_INFO_ID_DATA_TYPE , 0 , - 1 , ( NULL ) } , { "BMS_State_Enum_BMS_Fault" ,
MDL_INFO_ID_ENUMTYPE_STRING , 0 , 3 , ( void * ) "BMS_State_Enum" } , {
"BMS_State_Enum_BMS_Driving" , MDL_INFO_ID_ENUMTYPE_STRING , 0 , 2 , ( void *
) "BMS_State_Enum" } , { "BMS_State_Enum_BMS_Charging" ,
MDL_INFO_ID_ENUMTYPE_STRING , 0 , 1 , ( void * ) "BMS_State_Enum" } , {
"BMS_State_Enum_BMS_Standby" , MDL_INFO_ID_ENUMTYPE_STRING , 0 , 0 , ( void *
) "BMS_State_Enum" } , { "BMS_State_Enum" , MDL_INFO_ID_DATA_TYPE , 0 , - 1 ,
( NULL ) } , { "Faults" , MDL_INFO_ID_DATA_TYPE , 0 , - 1 , ( NULL ) } , {
"Contactors_Cmd" , MDL_INFO_ID_DATA_TYPE , 0 , - 1 , ( NULL ) } , {
"CurrentLimits" , MDL_INFO_ID_DATA_TYPE , 0 , - 1 , ( NULL ) } , {
"mr_BMS_Out_GetSimStateDisallowedBlocks" , MDL_INFO_ID_MODEL_FCN_NAME , 0 , -
1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_extractBitFieldFromCellArrayWithOffset" ,
MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_cacheBitFieldToCellArrayWithOffset" , MDL_INFO_ID_MODEL_FCN_NAME
, 0 , - 1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_restoreDataFromMxArrayWithOffset" , MDL_INFO_ID_MODEL_FCN_NAME ,
0 , - 1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_cacheDataToMxArrayWithOffset" , MDL_INFO_ID_MODEL_FCN_NAME , 0 ,
- 1 , ( void * ) "BMS_Out" } , { "mr_BMS_Out_extractBitFieldFromMxArray" ,
MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_cacheBitFieldToMxArray" , MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 ,
( void * ) "BMS_Out" } , { "mr_BMS_Out_restoreDataFromMxArray" ,
MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_cacheDataAsMxArray" , MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 , (
void * ) "BMS_Out" } , { "mr_BMS_Out_RegisterSimStateChecksum" ,
MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 , ( void * ) "BMS_Out" } , {
"mr_BMS_Out_SetDWork" , MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1 , ( void * )
"BMS_Out" } , { "mr_BMS_Out_GetDWork" , MDL_INFO_ID_MODEL_FCN_NAME , 0 , - 1
, ( void * ) "BMS_Out" } , { "BMS_Out.h" , MDL_INFO_MODEL_FILENAME , 0 , - 1
, ( NULL ) } , { "BMS_Out.c" , MDL_INFO_MODEL_FILENAME , 0 , - 1 , ( void * )
"BMS_Out" } } ; op4vcoxluza op4vcoxluz ; juz1rje5hni b1vbqry3vga ; void
BMS_Out ( const CurrentLimits * la1xwrt4o1 , const real32_T * be2l4l0yqx ,
const Contactors_Cmd * eb4fxbmxca , const Faults * dkwpbh4yre , const
BMS_State_Enum * a4mbk2heg0 , const real32_T * grw3v4gkhn , const real32_T *
lfnlh5dct3 , const real32_T * kn4vzwkmsj , const boolean_T dtkmrpzfq1 [ 96 ]
, BMS_Cmd * okzchojze5 , boolean_T * cxqctwbric , boolean_T * psr1hnztgd ,
boolean_T * hp4bpv12xr , boolean_T * jze5c0llni , boolean_T * iki2gmtal1 ,
boolean_T * gwhk211ddp , boolean_T * jr2egmj1gh , boolean_T * of5kaz4lbk ,
BMS_State_Enum * mbe4xb012f , real32_T * pnseqtzced , real32_T * gphjq2vj5u ,
real32_T * kqgvfpqwlb ) { int32_T i ; okzchojze5 -> CurrentLimits_Bus = *
la1xwrt4o1 ; okzchojze5 -> ChargeCurrentReq = * be2l4l0yqx ; okzchojze5 ->
ContactorsCmd_Bus = * eb4fxbmxca ; for ( i = 0 ; i < 96 ; i ++ ) {
b1vbqry3vga . a4kktejck0 [ i ] = dtkmrpzfq1 [ i ] ; okzchojze5 -> BalCmd [ i
] = b1vbqry3vga . a4kktejck0 [ i ] ; } * cxqctwbric = dkwpbh4yre ->
VoltSensor ; * pnseqtzced = * grw3v4gkhn ; * gphjq2vj5u = * lfnlh5dct3 ; *
kqgvfpqwlb = * kn4vzwkmsj ; * psr1hnztgd = dkwpbh4yre -> OverCurrent ; *
hp4bpv12xr = dkwpbh4yre -> HighTemp ; * jze5c0llni = dkwpbh4yre -> LowTemp ;
* iki2gmtal1 = dkwpbh4yre -> OverVolt ; * gwhk211ddp = dkwpbh4yre ->
UnderVolt ; * jr2egmj1gh = dkwpbh4yre -> Charger ; * of5kaz4lbk = dkwpbh4yre
-> Inverter ; * mbe4xb012f = * a4mbk2heg0 ; } void knzl4yur3r ( void ) {
hlrpif31cr * const dvnzvhp34u = & ( op4vcoxluz . rtm ) ; if ( !
slIsRapidAcceleratorSimulating ( ) ) { slmrRunPluginEvent ( dvnzvhp34u ->
_mdlRefSfcnS , "BMS_Out" , "SIMSTATUS_TERMINATING_MODELREF_ACCEL_EVENT" ) ; }
} void ccdupmtoje ( SimStruct * _mdlRefSfcnS , int_T mdlref_TID0 , int_T
mdlref_TID1 , void * sysRanPtr , int contextTid , rtwCAPI_ModelMappingInfo *
rt_ParentMMI , const char_T * rt_ChildPath , int_T rt_ChildMMIIdx , int_T
rt_CSTATEIdx ) { hlrpif31cr * const dvnzvhp34u = & ( op4vcoxluz . rtm ) ;
rt_InitInfAndNaN ( sizeof ( real_T ) ) ; ( void ) memset ( ( void * )
dvnzvhp34u , 0 , sizeof ( hlrpif31cr ) ) ; ddwb15ixvg [ 0 ] = mdlref_TID0 ;
ddwb15ixvg [ 1 ] = mdlref_TID1 ; dvnzvhp34u -> _mdlRefSfcnS = ( _mdlRefSfcnS
) ; if ( ! slIsRapidAcceleratorSimulating ( ) ) { slmrRunPluginEvent (
dvnzvhp34u -> _mdlRefSfcnS , "BMS_Out" ,
"START_OF_SIM_MODEL_MODELREF_ACCEL_EVENT" ) ; } ( void ) memset ( ( ( void *
) & b1vbqry3vga ) , 0 , sizeof ( juz1rje5hni ) ) ;
BMS_Out_InitializeDataMapInfo ( dvnzvhp34u , sysRanPtr , contextTid ) ; if (
( rt_ParentMMI != ( NULL ) ) && ( rt_ChildPath != ( NULL ) ) ) {
rtwCAPI_SetChildMMI ( * rt_ParentMMI , rt_ChildMMIIdx , & ( dvnzvhp34u ->
DataMapInfo . mmi ) ) ; rtwCAPI_SetPath ( dvnzvhp34u -> DataMapInfo . mmi ,
rt_ChildPath ) ; rtwCAPI_MMISetContStateStartIndex ( dvnzvhp34u ->
DataMapInfo . mmi , rt_CSTATEIdx ) ; } } void mr_BMS_Out_MdlInfoRegFcn (
SimStruct * mdlRefSfcnS , char_T * modelName , int_T * retVal ) { * retVal =
0 ; { boolean_T regSubmodelsMdlinfo = false ; ssGetRegSubmodelsMdlinfo (
mdlRefSfcnS , & regSubmodelsMdlinfo ) ; if ( regSubmodelsMdlinfo ) { } } *
retVal = 0 ; ssRegModelRefMdlInfo ( mdlRefSfcnS , modelName ,
rtMdlInfo_BMS_Out , 65 ) ; * retVal = 1 ; } static void
mr_BMS_Out_cacheDataAsMxArray ( mxArray * destArray , mwIndex i , int j ,
const void * srcData , size_t numBytes ) ; static void
mr_BMS_Out_cacheDataAsMxArray ( mxArray * destArray , mwIndex i , int j ,
const void * srcData , size_t numBytes ) { mxArray * newArray =
mxCreateUninitNumericMatrix ( ( size_t ) 1 , numBytes , mxUINT8_CLASS ,
mxREAL ) ; memcpy ( ( uint8_T * ) mxGetData ( newArray ) , ( const uint8_T *
) srcData , numBytes ) ; mxSetFieldByNumber ( destArray , i , j , newArray )
; } static void mr_BMS_Out_restoreDataFromMxArray ( void * destData , const
mxArray * srcArray , mwIndex i , int j , size_t numBytes ) ; static void
mr_BMS_Out_restoreDataFromMxArray ( void * destData , const mxArray *
srcArray , mwIndex i , int j , size_t numBytes ) { memcpy ( ( uint8_T * )
destData , ( const uint8_T * ) mxGetData ( mxGetFieldByNumber ( srcArray , i
, j ) ) , numBytes ) ; } static void mr_BMS_Out_cacheBitFieldToMxArray (
mxArray * destArray , mwIndex i , int j , uint_T bitVal ) ; static void
mr_BMS_Out_cacheBitFieldToMxArray ( mxArray * destArray , mwIndex i , int j ,
uint_T bitVal ) { mxSetFieldByNumber ( destArray , i , j ,
mxCreateDoubleScalar ( ( double ) bitVal ) ) ; } static uint_T
mr_BMS_Out_extractBitFieldFromMxArray ( const mxArray * srcArray , mwIndex i
, int j , uint_T numBits ) ; static uint_T
mr_BMS_Out_extractBitFieldFromMxArray ( const mxArray * srcArray , mwIndex i
, int j , uint_T numBits ) { const uint_T varVal = ( uint_T ) mxGetScalar (
mxGetFieldByNumber ( srcArray , i , j ) ) ; return varVal & ( ( 1u << numBits
) - 1u ) ; } static void mr_BMS_Out_cacheDataToMxArrayWithOffset ( mxArray *
destArray , mwIndex i , int j , mwIndex offset , const void * srcData ,
size_t numBytes ) ; static void mr_BMS_Out_cacheDataToMxArrayWithOffset (
mxArray * destArray , mwIndex i , int j , mwIndex offset , const void *
srcData , size_t numBytes ) { uint8_T * varData = ( uint8_T * ) mxGetData (
mxGetFieldByNumber ( destArray , i , j ) ) ; memcpy ( ( uint8_T * ) & varData
[ offset * numBytes ] , ( const uint8_T * ) srcData , numBytes ) ; } static
void mr_BMS_Out_restoreDataFromMxArrayWithOffset ( void * destData , const
mxArray * srcArray , mwIndex i , int j , mwIndex offset , size_t numBytes ) ;
static void mr_BMS_Out_restoreDataFromMxArrayWithOffset ( void * destData ,
const mxArray * srcArray , mwIndex i , int j , mwIndex offset , size_t
numBytes ) { const uint8_T * varData = ( const uint8_T * ) mxGetData (
mxGetFieldByNumber ( srcArray , i , j ) ) ; memcpy ( ( uint8_T * ) destData ,
( const uint8_T * ) & varData [ offset * numBytes ] , numBytes ) ; } static
void mr_BMS_Out_cacheBitFieldToCellArrayWithOffset ( mxArray * destArray ,
mwIndex i , int j , mwIndex offset , uint_T fieldVal ) ; static void
mr_BMS_Out_cacheBitFieldToCellArrayWithOffset ( mxArray * destArray , mwIndex
i , int j , mwIndex offset , uint_T fieldVal ) { mxSetCell (
mxGetFieldByNumber ( destArray , i , j ) , offset , mxCreateDoubleScalar ( (
double ) fieldVal ) ) ; } static uint_T
mr_BMS_Out_extractBitFieldFromCellArrayWithOffset ( const mxArray * srcArray
, mwIndex i , int j , mwIndex offset , uint_T numBits ) ; static uint_T
mr_BMS_Out_extractBitFieldFromCellArrayWithOffset ( const mxArray * srcArray
, mwIndex i , int j , mwIndex offset , uint_T numBits ) { const uint_T
fieldVal = ( uint_T ) mxGetScalar ( mxGetCell ( mxGetFieldByNumber ( srcArray
, i , j ) , offset ) ) ; return fieldVal & ( ( 1u << numBits ) - 1u ) ; }
mxArray * mr_BMS_Out_GetDWork ( ) { static const char * ssDWFieldNames [ 3 ]
= { "b1vbqry3vga" , "NULL_DW" , "NULL_PrevZCX" , } ; mxArray * ssDW =
mxCreateStructMatrix ( 1 , 1 , 3 , ssDWFieldNames ) ;
mr_BMS_Out_cacheDataAsMxArray ( ssDW , 0 , 0 , ( const void * ) & (
b1vbqry3vga ) , sizeof ( b1vbqry3vga ) ) ; return ssDW ; } void
mr_BMS_Out_SetDWork ( const mxArray * ssDW ) { ( void ) ssDW ;
mr_BMS_Out_restoreDataFromMxArray ( ( void * ) & ( b1vbqry3vga ) , ssDW , 0 ,
0 , sizeof ( b1vbqry3vga ) ) ; } void mr_BMS_Out_RegisterSimStateChecksum (
SimStruct * S ) { const uint32_T chksum [ 4 ] = { 606875048U , 2377178229U ,
3870819709U , 2388110593U , } ; slmrModelRefRegisterSimStateChecksum ( S ,
"BMS_Out" , & chksum [ 0 ] ) ; } mxArray *
mr_BMS_Out_GetSimStateDisallowedBlocks ( ) { return ( NULL ) ; }
#if defined(_MSC_VER)
#pragma warning(disable: 4505) //unreferenced local function has been removed
#endif
